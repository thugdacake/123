<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tokyo Box</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/phone.css">
    <link rel="stylesheet" href="css/player.css">
    <link rel="stylesheet" href="css/features.css">
</head>
<body>
    <div id="tokyo-box-app" class="hide">
        <div class="phone-container">
            <!-- Frame do iPhone -->
            <div class="phone-frame">
                <div class="phone-content">
                    <!-- Status Bar -->
                    <div class="status-bar">
                        <div class="time">20:20</div>
                        <div class="status-icons">
                            <i data-feather="wifi"></i>
                            <i data-feather="battery"></i>
                        </div>
                    </div>
                    
                    <!-- Conteúdo Principal -->
                    <div class="main-content">
                        <!-- Header -->
                        <header class="app-header">
                            <div class="logo">
                                <img src="img/logo.svg" alt="Tokyo Box">
                                <h1>Tokyo Box</h1>
                            </div>
                            <div class="header-actions">
                                <button id="close-app" class="btn-icon">
                                    <i data-feather="x"></i>
                                </button>
                            </div>
                        </header>
                        
                        <!-- Áreas de Conteúdo -->
                        <div class="content-area">
                            <!-- Tela Home -->
                            <div id="home-screen" class="screen active">
                                <div class="welcome-area">
                                    <h2>Bem-vindo ao Tokyo Box</h2>
                                    <p>Seu player de música VIP</p>
                                </div>
                                
                                <div class="section">
                                    <h3>Playlists Recentes</h3>
                                    <div id="recent-playlists" class="horizontal-scroll">
                                        <!-- Playlists serão adicionadas dinamicamente -->
                                        <div class="empty-message">Você ainda não tem playlists</div>
                                    </div>
                                </div>
                                
                                <div class="section">
                                    <h3>Músicas Recentes</h3>
                                    <div id="recent-tracks" class="track-list">
                                        <!-- Músicas serão adicionadas dinamicamente -->
                                        <div class="empty-message">Nenhuma música tocada recentemente</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Tela de Busca -->
                            <div id="search-screen" class="screen">
                                <div class="search-container">
                                    <div class="search-input-group">
                                        <i data-feather="search"></i>
                                        <input type="text" id="search-input" placeholder="Buscar músicas...">
                                    </div>
                                    <button id="search-button" class="btn-primary">Buscar</button>
                                </div>
                                
                                <div id="search-results" class="track-list">
                                    <!-- Resultados da busca serão adicionados dinamicamente -->
                                </div>
                                
                                <div id="recent-searches" class="section">
                                    <h3>Buscas Recentes</h3>
                                    <div class="recent-searches-list">
                                        <!-- Buscas recentes serão adicionadas dinamicamente -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Tela de Biblioteca -->
                            <div id="library-screen" class="screen">
                                <div class="section">
                                    <div class="section-header">
                                        <h3>Suas Playlists</h3>
                                        <button id="create-playlist" class="btn-small">
                                            <i data-feather="plus"></i> Nova
                                        </button>
                                    </div>
                                    <div id="user-playlists" class="playlist-grid">
                                        <!-- Playlists serão adicionadas dinamicamente -->
                                    </div>
                                </div>
                                
                                <div class="section">
                                    <h3>Favoritos</h3>
                                    <div id="favorites-list" class="track-list">
                                        <!-- Favoritos serão adicionados dinamicamente -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Tela de Playlist -->
                            <div id="playlist-screen" class="screen">
                                <div class="playlist-header">
                                    <div class="playlist-cover">
                                        <img src="img/playlist-default.svg" alt="Playlist Cover">
                                    </div>
                                    <div class="playlist-info">
                                        <h2 id="playlist-name">Nome da Playlist</h2>
                                        <p id="playlist-owner">Seu Nome</p>
                                        <p id="playlist-details">0 músicas, 0 min</p>
                                    </div>
                                </div>
                                
                                <div class="playlist-actions">
                                    <button id="play-playlist" class="btn-primary">
                                        <i data-feather="play"></i> Reproduzir
                                    </button>
                                    <button id="delete-playlist" class="btn-danger">
                                        <i data-feather="trash-2"></i>
                                    </button>
                                </div>
                                
                                <div id="playlist-tracks" class="track-list">
                                    <!-- Músicas da playlist serão adicionadas dinamicamente -->
                                </div>
                            </div>
                            
                            <!-- Tela Bluetooth -->
                            <div id="bluetooth-screen" class="screen">
                                <div class="screen-header">
                                    <h2><i data-feather="bluetooth"></i> Bluetooth</h2>
                                </div>
                                <div class="screen-content">
                                    <div class="settings-section">
                                        <div class="setting-row">
                                            <span>Bluetooth</span>
                                            <label class="toggle">
                                                <input type="checkbox" id="bluetooth-toggle">
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                        <div class="setting-row">
                                            <span>Descobrível</span>
                                            <label class="toggle">
                                                <input type="checkbox" id="discoverable-toggle">
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                        <div class="setting-row">
                                            <span>Auto-aceitar conexões</span>
                                            <label class="toggle">
                                                <input type="checkbox" id="auto-accept-toggle">
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                        <div class="setting-row">
                                            <span>Alcance Bluetooth</span>
                                            <input type="range" id="bluetooth-range" min="10" max="100" value="50">
                                            <span id="bluetooth-range-value">50m</span>
                                        </div>
                                    </div>
                                    
                                    <div class="devices-section">
                                        <h3>Dispositivos Conectados</h3>
                                        <div id="connected-devices" class="device-list">
                                            <!-- Dispositivos conectados serão adicionados aqui -->
                                            <div class="empty-list-message">Nenhum dispositivo conectado</div>
                                        </div>
                                        
                                        <div class="divider"></div>
                                        
                                        <h3>Dispositivos Próximos</h3>
                                        <button id="refresh-devices" class="btn btn-secondary">
                                            <i data-feather="refresh-cw"></i> Atualizar
                                        </button>
                                        <div id="nearby-devices" class="device-list">
                                            <!-- Dispositivos próximos serão adicionados aqui -->
                                            <div class="empty-list-message">Nenhum dispositivo encontrado</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Tela Equalizador e Áudio 3D -->
                            <div id="equalizer-screen" class="screen">
                                <div class="screen-header">
                                    <h2><i data-feather="sliders"></i> Equalizador & Áudio 3D</h2>
                                </div>
                                <div class="screen-content">
                                    <div class="equalizer-section">
                                        <div class="preset-selector">
                                            <select id="eq-preset-select">
                                                <option value="flat">Flat</option>
                                                <option value="rock">Rock</option>
                                                <option value="pop">Pop</option>
                                                <option value="jazz">Jazz</option>
                                                <option value="electronic">Eletrônica</option>
                                                <option value="classical">Clássica</option>
                                                <option value="hiphop">Hip-Hop</option>
                                                <option value="custom">Personalizado</option>
                                            </select>
                                            <button id="save-preset" class="btn btn-secondary">
                                                <i data-feather="save"></i> Salvar
                                            </button>
                                        </div>
                                        
                                        <div class="eq-bands" id="eq-bands">
                                            <!-- Bandas do equalizador serão adicionadas por JavaScript -->
                                        </div>
                                    </div>
                                    
                                    <div class="divider"></div>
                                    
                                    <div class="spatial-audio-section">
                                        <h3>Efeitos de Áudio 3D</h3>
                                        
                                        <div class="setting-row">
                                            <span>Ativar Áudio 3D</span>
                                            <label class="toggle">
                                                <input type="checkbox" id="spatial-toggle">
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                        
                                        <div class="setting-row">
                                            <span>Tamanho da Sala</span>
                                            <input type="range" id="room-size" min="0" max="100" value="50">
                                        </div>
                                        
                                        <div class="setting-row">
                                            <span>Reverberação</span>
                                            <input type="range" id="reverb-level" min="0" max="100" value="30">
                                        </div>
                                        
                                        <div class="position-control">
                                            <h4>Posição do Som</h4>
                                            <div class="position-visualizer" id="position-visualizer">
                                                <div class="position-marker" id="position-marker"></div>
                                                <div class="position-listener"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Tela Sessão de Grupo -->
                            <div id="group-session-screen" class="screen">
                                <div class="screen-header">
                                    <h2><i data-feather="users"></i> Sessão de Grupo</h2>
                                </div>
                                <div class="screen-content">
                                    <div class="session-controls">
                                        <div id="no-session-view">
                                            <button id="create-session" class="btn btn-primary">
                                                <i data-feather="plus"></i> Criar Sessão
                                            </button>
                                            <div class="divider-text">ou</div>
                                            <div class="join-section">
                                                <input type="text" id="session-code" placeholder="Digite o código da sessão">
                                                <button id="join-session" class="btn btn-secondary">
                                                    <i data-feather="log-in"></i> Entrar
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <div id="active-session-view" style="display: none;">
                                            <div class="session-info">
                                                <h3>Sessão Ativa</h3>
                                                <div class="session-code-display">
                                                    <span>Código da Sessão: </span>
                                                    <span id="current-session-code" class="code"></span>
                                                    <button id="copy-session-code" class="btn btn-icon">
                                                        <i data-feather="copy"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <div class="session-role">
                                                <span>Seu Papel: </span>
                                                <span id="user-role">Host</span>
                                                <div id="dj-controls" style="display: none;">
                                                    <button id="toggle-dj-mode" class="btn btn-secondary">
                                                        <i data-feather="disc"></i> Ativar Modo DJ
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <button id="leave-session" class="btn btn-danger">
                                                <i data-feather="log-out"></i> Sair da Sessão
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div class="divider"></div>
                                    
                                    <div class="session-members">
                                        <h3>Membros</h3>
                                        <div id="session-members-list" class="members-list">
                                            <!-- Membros da sessão serão adicionados aqui -->
                                            <div class="empty-list-message">Nenhum membro ainda</div>
                                        </div>
                                    </div>
                                    
                                    <div class="session-chat">
                                        <h3>Chat da Sessão</h3>
                                        <div id="chat-messages" class="chat-messages">
                                            <!-- Mensagens do chat serão exibidas aqui -->
                                        </div>
                                        <div class="chat-input">
                                            <input type="text" id="chat-message-input" placeholder="Digite uma mensagem...">
                                            <button id="send-message" class="btn btn-icon">
                                                <i data-feather="send"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Player de Música -->
                        <div id="music-player" class="player-container">
                            <div class="mini-player">
                                <div class="track-info">
                                    <div class="track-thumbnail">
                                        <img id="current-thumbnail" src="img/default-album.svg" alt="Album">
                                    </div>
                                    <div class="track-details">
                                        <div id="current-title" class="track-title">Nenhuma música</div>
                                        <div id="current-artist" class="track-artist">Artista</div>
                                    </div>
                                </div>
                                <div class="player-controls">
                                    <button id="player-toggle" class="btn-icon">
                                        <i data-feather="play"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="full-player">
                                <div class="full-player-header">
                                    <button id="minimize-player" class="btn-icon">
                                        <i data-feather="chevron-down"></i>
                                    </button>
                                    <div class="player-title">Reproduzindo</div>
                                </div>
                                
                                <div class="full-player-content">
                                    <div class="full-track-thumbnail">
                                        <img id="full-thumbnail" src="img/default-album.svg" alt="Album">
                                    </div>
                                    
                                    <div class="full-track-info">
                                        <div id="full-title" class="full-track-title">Nenhuma música</div>
                                        <div id="full-artist" class="full-track-artist">Artista</div>
                                    </div>
                                    
                                    <div class="progress-container">
                                        <div class="progress-bar">
                                            <div id="progress-current" class="progress-current"></div>
                                        </div>
                                        <div class="progress-time">
                                            <span id="current-time">0:00</span>
                                            <span id="total-time">0:00</span>
                                        </div>
                                    </div>
                                    
                                    <div class="full-player-controls">
                                        <button id="prev-track" class="btn-icon">
                                            <i data-feather="skip-back"></i>
                                        </button>
                                        <button id="full-player-toggle" class="btn-icon btn-play">
                                            <i data-feather="play"></i>
                                        </button>
                                        <button id="next-track" class="btn-icon">
                                            <i data-feather="skip-forward"></i>
                                        </button>
                                    </div>
                                    
                                    <div class="volume-container">
                                        <i data-feather="volume-2"></i>
                                        <input type="range" id="volume-slider" min="0" max="100" value="70">
                                    </div>
                                    
                                    <div class="player-actions">
                                        <button id="favorite-track" class="btn-icon">
                                            <i data-feather="heart"></i>
                                        </button>
                                        <button id="add-to-playlist" class="btn-icon">
                                            <i data-feather="plus-square"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Modal de Criar Playlist -->
                        <div id="create-playlist-modal" class="modal">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3>Nova Playlist</h3>
                                    <button id="close-create-modal" class="btn-icon">
                                        <i data-feather="x"></i>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-group">
                                        <label for="playlist-name-input">Nome da Playlist</label>
                                        <input type="text" id="playlist-name-input" placeholder="Minha Playlist">
                                    </div>
                                    <div class="form-group">
                                        <label for="playlist-description-input">Descrição (opcional)</label>
                                        <textarea id="playlist-description-input" placeholder="Descreva sua playlist"></textarea>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button id="cancel-create-playlist" class="btn-secondary">Cancelar</button>
                                    <button id="confirm-create-playlist" class="btn-primary">Criar</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Modal de Adicionar à Playlist -->
                        <div id="add-to-playlist-modal" class="modal">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3>Adicionar à Playlist</h3>
                                    <button id="close-add-modal" class="btn-icon">
                                        <i data-feather="x"></i>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div id="playlist-selection" class="playlist-selection">
                                        <!-- Playlists serão adicionadas dinamicamente -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Notificações -->
                        <div id="notification-container" class="notification-container"></div>
                    </div>
                    
                    <!-- Navigation Bar -->
                    <div class="nav-bar">
                        <button id="nav-home" class="nav-item active">
                            <i data-feather="home"></i>
                            <span>Início</span>
                        </button>
                        <button id="nav-search" class="nav-item">
                            <i data-feather="search"></i>
                            <span>Buscar</span>
                        </button>
                        <button id="nav-library" class="nav-item">
                            <i data-feather="book"></i>
                            <span>Biblioteca</span>
                        </button>
                        <button id="nav-bluetooth" class="nav-item">
                            <i data-feather="bluetooth"></i>
                            <span>Bluetooth</span>
                        </button>
                        <button id="nav-equalizer" class="nav-item">
                            <i data-feather="sliders"></i>
                            <span>Equalizer</span>
                        </button>
                        <button id="nav-group-session" class="nav-item">
                            <i data-feather="users"></i>
                            <span>Grupo</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Elemento de áudio (fallback para caso o xSound não esteja disponível) -->
        <audio id="audio-player" style="display: none;"></audio>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/player.js"></script>
    <script src="js/playlists.js"></script>
    
    <!-- Scripts de recursos aprimorados -->
    <script src="js/bluetooth.js"></script>
    <script src="js/3d-audio.js"></script>
    <script src="js/group-session.js"></script>
    <script src="js/ui-compatibility.js"></script>
    <script src="js/init.js"></script>
</body>
</html>
